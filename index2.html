<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Weather App</title>
</head>
<body>
  <h2>ğŸŒ¤ï¸ Weather App</h2>

  <input type="text" id="SearchCity" placeholder="Enter city name..." />

  <div>
    <p><strong>ğŸ“ Location:</strong> <span id="location">-</span></p>
    <p><strong>ğŸŒ¡ï¸ Temperature:</strong> <span id="degreeCelcius">-</span></p>
    <p><strong>ğŸ“… Day:</strong> <span id="day">-</span></p>
    <img id="mainImg" src="" alt="Weather Icon" />
  </div>

  <script>
    let searchCity = document.getElementById("SearchCity");
    let mainImg = document.getElementById("mainImg");
    let degreeCelcius = document.getElementById("degreeCelcius");
    let locationElem = document.getElementById("location");
    let day = document.getElementById("day");

    searchCity.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        const query = event.target.value.trim();
        if (query !== "") {
          callWeather(query);
        }
      }
    });

    async function callWeather(query) {
      try {
        const res = await fetch(
          `https://api.weatherapi.com/v1/current.json?key=38ddafdf2fa9407eb6260611250608&q=${query}&aqi=no`
        );

        const data = await res.json();

        if (data.error) {
          alert("City not found.");
          return;
        }

        // Update weather data
        degreeCelcius.innerText = data.current.temp_c + "Â°C";
        locationElem.innerText = `${data.location.name}, ${data.location.region}`;
        mainImg.src = "https:" + data.current.condition.icon;

        // Get and display the day
        const date = new Date(data.location.localtime);
        const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        day.innerText = days[date.getDay()];

      } catch (error) {
        console.error("Error fetching weather:", error);
      }
    }
  </script>
</body>
</html>
